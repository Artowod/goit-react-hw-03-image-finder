{"version":3,"sources":["components/Button/Button.module.css","components/SearchBar/SearchBar.jsx","components/Modal/Modal.jsx","components/ImageGalleryItem/ImageGalleryItem.jsx","components/ImageGallery/ImageGallery.jsx","components/Button/Button.jsx","shared/services/api.js","App.js","index.js"],"names":["module","exports","SearchBar","state","searchInput","onSubmit","event","preventDefault","props","onInputChange","e","value","target","setState","className","this","type","autoComplete","name","autoFocus","placeholder","onChange","Component","Modal","window","addEventListener","ModalCloseKeyHandler","removeEventListener","onClick","ModalCloseClickHandler","src","largePic","alt","ImageGalleryItem","isModal","openModal","closeModal","tagName","closeModalByEsc","key","largeImageURL","href","webformatURL","ImageGallery","gallery","map","id","Button","children","status","s","loader_wrapper","loader","getServerResponse","q","page","sendParam","image_type","orientation","safesearch","per_page","response","axios","get","params","then","data","App","searchQuery","trim","pagination","prevState","prevProps","hits","concat","scrollBy","top","document","documentElement","scrollHeight","behavior","catch","err","alert","message","color","height","width","React","ReactDOM","render","StrictMode","getElementById"],"mappings":"wIACAA,EAAOC,QAAU,CAAC,OAAS,uBAAuB,eAAiB,+BAA+B,OAAS,yB,oICErGC,E,4MACJC,MAAQ,CACNC,YAAa,I,EAGfC,SAAW,SAAAC,GACTA,EAAMC,iBACN,EAAKC,MAAMH,SAAS,EAAKF,MAAMC,c,EAGjCK,cAAgB,SAAAC,GACd,IAAQC,EAAUD,EAAEE,OAAZD,MACR,EAAKE,SAAS,CAAET,YAAaO,K,4CAG/B,WACE,OACE,wBAAQG,UAAU,YAAlB,SACE,uBAAMA,UAAU,aAAaT,SAAUU,KAAKV,SAA5C,UACE,wBAAQW,KAAK,SAASF,UAAU,oBAAhC,SACE,sBAAMA,UAAU,0BAAhB,sBAGF,uBACEA,UAAU,mBACVE,KAAK,OACLC,aAAa,MACbC,KAAK,cACLP,MAAOI,KAAKZ,MAAMC,YAClBe,WAAS,EACTC,YAAY,2BACZC,SAAUN,KAAKN,yB,GA/BHa,aA2CTpB,IC3CTqB,E,uKACJ,WACEC,OAAOC,iBAAiB,UAAWV,KAAKP,MAAMkB,wB,kCAGhD,WACEF,OAAOG,oBAAoB,UAAWZ,KAAKP,MAAMkB,wB,oBAGnD,WACE,OACE,qBAAKZ,UAAU,UAAUc,QAASb,KAAKP,MAAMqB,uBAA7C,SACE,qBAAKf,UAAU,QAAf,SACE,qBAAKgB,IAAKf,KAAKP,MAAMuB,SAAUC,IAAI,sB,GAbzBV,aA0BLC,IC1BTU,E,4MACJ9B,MAAQ,CACN+B,SAAS,G,EAGXC,UAAY,SAAA7B,GACVA,EAAMC,iBACN,EAAKM,SAAS,CAAEqB,SAAS,K,EAG3BE,WAAa,SAAA9B,GACc,QAAzBA,EAAMM,OAAOyB,SAAqB,EAAKxB,SAAS,CAAEqB,SAAS,K,EAG7DI,gBAAkB,SAAAhC,GACF,WAAdA,EAAMiC,KAAoB,EAAK1B,SAAS,CAAEqB,SAAS,K,4CAGrD,WACE,OACE,qBAAIpB,UAAU,mBAAd,WAC0B,IAAvBC,KAAKZ,MAAM+B,SACV,cAAC,EAAD,CACEL,uBAAwBd,KAAKqB,WAC7BV,qBAAsBX,KAAKuB,gBAC3BP,SAAUhB,KAAKP,MAAMgC,gBAGzB,mBAAGC,KAAM1B,KAAKP,MAAMgC,cAAeZ,QAASb,KAAKoB,UAAjD,SACE,qBACEL,IAAKf,KAAKP,MAAMkC,aAChBV,IAAI,GACJlB,UAAU,oC,GAhCSQ,aA4ChBW,ICxBAU,EApBM,SAAC,GAAiB,IAAfC,EAAc,EAAdA,QACtB,OACE,oBAAI9B,UAAU,eAAd,SACG8B,EAAQC,KAAI,YAA0C,IAAvCC,EAAsC,EAAtCA,GAAIJ,EAAkC,EAAlCA,aAAcF,EAAoB,EAApBA,cAChC,OACE,cAAC,EAAD,CAEEE,aAAcA,EACdF,cAAeA,GAFVM,S,iBCaFC,EAnBA,SAAC,GAAmC,IAAjCnB,EAAgC,EAAhCA,QAASoB,EAAuB,EAAvBA,SAAUC,EAAa,EAAbA,OACnC,OACE,sBAAKnC,UAAWoC,IAAEC,eAAlB,UACE,qBAAKrC,UAAWoC,IAAEE,OAAlB,SAAsC,YAAXH,GAAwBD,MACvC,aAAXC,GACC,wBAAQnC,UAAWoC,IAAEH,OAAQ/B,KAAK,SAASY,QAASA,EAApD,2B,iBCgBOyB,MArBf,WAA0C,IAAfC,EAAc,uDAAV,GAAIC,EAAM,uCACjCC,EAAY,CAChBjB,IAAK,qCACLe,EAAG,GACHG,WAAY,QACZC,YAAa,aACbC,WAAY,OACZC,SAAU,GACVL,KAAM,GAGRC,EAAUF,EAAIA,EACdE,EAAUD,KAAOA,EAEjB,IAAMM,EAAWC,IAAMC,IAAI,2BAA4B,CACrDC,OAAQR,IAGV,OAAOK,EAASI,MAAK,qBAAGC,S,iBCXpBC,G,wNACJhE,MAAQ,CACNyC,QAAS,GACTK,OAAQ,OACRmB,YAAa,GACbb,KAAM,EACNH,QAAQ,G,EAGV/C,SAAW,SAAA+D,GACT,EAAKvD,SAAS,CAAE+B,QAAS,GAAIW,KAAM,IACR,KAAvBa,EAAYC,OACd,EAAKxD,SAAS,CACZoC,OAAQ,OACRmB,gBAGF,EAAKvD,SAAS,CAAEuD,iB,EAIpBE,WAAa,WACX,EAAKzD,UAAS,SAAA0D,GAAS,MAAK,CAC1BhB,KAAMgB,EAAS,KAAW,O,wDAI9B,SAAmBC,EAAWD,GAAY,IAAD,OAEH,KAAlCxD,KAAKZ,MAAMiE,YAAYC,QACtBtD,KAAKZ,MAAMiE,cAAgBG,EAAUH,aACpCrD,KAAKZ,MAAMoD,OAASgB,EAAUhB,OAEhCxC,KAAKF,SAAS,CAAEoC,OAAQ,YACxBI,EAAkBtC,KAAKZ,MAAL,YAA2BY,KAAKZ,MAAL,MAC1C8D,MAAK,YAAe,IAAZQ,EAAW,EAAXA,KACP,EAAK5D,UAAS,kBAA+B,CAC3C+B,QADY,EAAGA,QACM8B,OACnBD,EAAK5B,KAAI,kBAA0C,CACjDC,GADO,EAAGA,GAEVJ,aAFO,EAAOA,aAGdF,cAHO,EAAqBA,mBAMhCS,OAAQ,eAEN,EAAK9C,MAAMoD,OAASgB,EAAUhB,MAA4B,IAApB,EAAKpD,MAAMoD,MACnD/B,OAAOmD,SAAS,CACdC,IAAKC,SAASC,gBAAgBC,aAC9BC,SAAU,cAGfC,OAAM,SAAAC,GAEL,MADAC,MAAMD,EAAIE,SACJF,Q,oBAKd,WACE,IAAQjC,EAAWlC,KAAKZ,MAAhB8C,OACR,MAAe,SAAXA,EAEA,sBAAKnC,UAAU,MAAf,UACE,cAAC,EAAD,CAAWT,SAAUU,KAAKV,WAD5B,0CAQF,sBAAKS,UAAU,MAAf,UACE,cAAC,EAAD,CAAWT,SAAUU,KAAKV,YACb,YAAX4C,GAAmC,aAAXA,IACxB,qCACE,cAAC,EAAD,CAAcL,QAAS7B,KAAKZ,MAAL,UACvB,cAAC,EAAD,CAAQyB,QAASb,KAAKuD,WAAYrB,OAAQA,EAA1C,SACG,kBAAM,cAAC,IAAD,CAAQoC,MAAM,SAASC,OAAQ,IAAKC,MAAO,mB,GA7E9CC,IAAMlE,YAsFT6C,IC5FfsB,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,EAAD,MAEFd,SAASe,eAAe,W","file":"static/js/main.d7392647.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"loader\":\"Button_loader__2YZtq\",\"loader_wrapper\":\"Button_loader_wrapper__M7HVe\",\"Button\":\"Button_Button__36sfs\"};","import { Component } from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nclass SearchBar extends Component {\r\n  state = {\r\n    searchInput: '',\r\n  };\r\n\r\n  onSubmit = event => {\r\n    event.preventDefault();\r\n    this.props.onSubmit(this.state.searchInput);\r\n  };\r\n\r\n  onInputChange = e => {\r\n    const { value } = e.target;\r\n    this.setState({ searchInput: value });\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <header className=\"SearchBar\">\r\n        <form className=\"SearchForm\" onSubmit={this.onSubmit}>\r\n          <button type=\"submit\" className=\"SearchForm-button\">\r\n            <span className=\"SearchForm-button-label\">Search</span>\r\n          </button>\r\n\r\n          <input\r\n            className=\"SearchForm-input\"\r\n            type=\"text\"\r\n            autoComplete=\"off\"\r\n            name=\"searchInput\"\r\n            value={this.state.searchInput}\r\n            autoFocus\r\n            placeholder=\"Search images and photos\"\r\n            onChange={this.onInputChange}\r\n          />\r\n        </form>\r\n      </header>\r\n    );\r\n  }\r\n}\r\n\r\nSearchBar.propTypes = {\r\n  onSubmit: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default SearchBar;\r\n","import { Component } from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nclass Modal extends Component {\r\n  componentDidMount() {\r\n    window.addEventListener('keydown', this.props.ModalCloseKeyHandler);\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    window.removeEventListener('keydown', this.props.ModalCloseKeyHandler);\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"Overlay\" onClick={this.props.ModalCloseClickHandler}>\r\n        <div className=\"Modal\">\r\n          <img src={this.props.largePic} alt=\"Large pic\" />\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nModal.propTypes = {\r\n  ModalCloseClickHandler: PropTypes.func.isRequired,\r\n  ModalCloseKeyHandler: PropTypes.func.isRequired,\r\n  largePic: PropTypes.string.isRequired,\r\n};\r\n\r\nexport default Modal;\r\n","import PropTypes from 'prop-types';\r\nimport { Component } from 'react';\r\nimport Modal from '../Modal';\r\nclass ImageGalleryItem extends Component {\r\n  state = {\r\n    isModal: false,\r\n  };\r\n\r\n  openModal = event => {\r\n    event.preventDefault();\r\n    this.setState({ isModal: true });\r\n  };\r\n\r\n  closeModal = event => {\r\n    event.target.tagName === 'DIV' && this.setState({ isModal: false });\r\n  };\r\n\r\n  closeModalByEsc = event => {\r\n    event.key === 'Escape' && this.setState({ isModal: false });\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <li className=\"ImageGalleryItem\">\r\n        {this.state.isModal === true && (\r\n          <Modal\r\n            ModalCloseClickHandler={this.closeModal}\r\n            ModalCloseKeyHandler={this.closeModalByEsc}\r\n            largePic={this.props.largeImageURL}\r\n          />\r\n        )}\r\n        <a href={this.props.largeImageURL} onClick={this.openModal}>\r\n          <img\r\n            src={this.props.webformatURL}\r\n            alt=\"\"\r\n            className=\"ImageGalleryItem-image\"\r\n          />\r\n        </a>\r\n      </li>\r\n    );\r\n  }\r\n}\r\n\r\nImageGalleryItem.propTypes = {\r\n  largeImageURL: PropTypes.string.isRequired,\r\n  webformatURL: PropTypes.string.isRequired,\r\n};\r\nexport default ImageGalleryItem;\r\n","import PropTypes from 'prop-types';\r\nimport ImageGalleryItem from '../ImageGalleryItem';\r\n\r\nconst ImageGallery = ({ gallery }) => {\r\n  return (\r\n    <ul className=\"ImageGallery\">\r\n      {gallery.map(({ id, webformatURL, largeImageURL }) => {\r\n        return (\r\n          <ImageGalleryItem\r\n            key={id}\r\n            webformatURL={webformatURL}\r\n            largeImageURL={largeImageURL}\r\n          />\r\n        );\r\n      })}\r\n    </ul>\r\n  );\r\n};\r\n\r\nImageGallery.propTypes = {\r\n  gallery: PropTypes.arrayOf(String).isRequired,\r\n};\r\n\r\nexport default ImageGallery;\r\n","import PropTypes from 'prop-types';\r\nimport s from './Button.module.css';\r\n\r\nconst Button = ({ onClick, children, status }) => {\r\n  return (\r\n    <div className={s.loader_wrapper}>\r\n      <div className={s.loader}>{status === 'pending' && children()}</div>\r\n      {status === 'resolved' && (\r\n        <button className={s.Button} type=\"button\" onClick={onClick}>\r\n          Load more\r\n        </button>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nButton.propTypes = {\r\n  onClick: PropTypes.func.isRequired,\r\n  children: PropTypes.func.isRequired,\r\n  status: PropTypes.string.isRequired,\r\n};\r\n\r\nexport default Button;\r\n","import axios from 'axios';\r\n\r\n//pixabay\r\nfunction getServerResponse(q = '', page) {\r\n  const sendParam = {\r\n    key: '23763255-79cd913c0d73945049700542d',\r\n    q: '',\r\n    image_type: 'photo',\r\n    orientation: 'horizontal',\r\n    safesearch: 'true',\r\n    per_page: 12,\r\n    page: 1,\r\n  };\r\n\r\n  sendParam.q = q;\r\n  sendParam.page = page;\r\n\r\n  const response = axios.get('https://pixabay.com/api/', {\r\n    params: sendParam,\r\n  });\r\n\r\n  return response.then(({ data }) => data);\r\n}\r\n\r\nexport default getServerResponse;\r\n","import SearchBar from './components/SearchBar';\nimport ImageGallery from './components/ImageGallery';\nimport Button from './components/Button';\nimport getServerResponse from './shared/services/api.js';\nimport Loader from 'react-loader-spinner';\nimport 'react-loader-spinner/dist/loader/css/react-spinner-loader.css';\n\nimport './App.css';\nimport React from 'react';\n\nclass App extends React.Component {\n  state = {\n    gallery: [],\n    status: 'idle',\n    searchQuery: '',\n    page: 1,\n    loader: false,\n  };\n\n  onSubmit = searchQuery => {\n    this.setState({ gallery: [], page: 1 });\n    if (searchQuery.trim() === '') {\n      this.setState({\n        status: 'idle',\n        searchQuery,\n      });\n    } else {\n      this.setState({ searchQuery });\n    }\n  };\n\n  pagination = () => {\n    this.setState(prevState => ({\n      page: prevState['page'] + 1,\n    }));\n  };\n\n  componentDidUpdate(prevProps, prevState) {\n    if (\n      this.state.searchQuery.trim() !== '' &&\n      (this.state.searchQuery !== prevState.searchQuery ||\n        this.state.page !== prevState.page)\n    ) {\n      this.setState({ status: 'pending' });\n      getServerResponse(this.state['searchQuery'], this.state['page'])\n        .then(({ hits }) => {\n          this.setState(({ gallery: prevGallery }) => ({\n            gallery: prevGallery.concat(\n              hits.map(({ id, webformatURL, largeImageURL }) => ({\n                id,\n                webformatURL,\n                largeImageURL,\n              })),\n            ),\n            status: 'resolved',\n          }));\n          if (this.state.page !== prevState.page && this.state.page !== 1)\n            window.scrollBy({\n              top: document.documentElement.scrollHeight,\n              behavior: 'smooth',\n            });\n        })\n        .catch(err => {\n          alert(err.message);\n          throw err;\n        });\n    }\n  }\n\n  render() {\n    const { status } = this.state;\n    if (status === 'idle') {\n      return (\n        <div className=\"App\">\n          <SearchBar onSubmit={this.onSubmit} />\n          Please type what you want to find...\n        </div>\n      );\n    }\n\n    return (\n      <div className=\"App\">\n        <SearchBar onSubmit={this.onSubmit} />\n        {(status === 'pending' || status === 'resolved') && (\n          <>\n            <ImageGallery gallery={this.state['gallery']} />\n            <Button onClick={this.pagination} status={status}>\n              {() => <Loader color=\"tomato\" height={100} width={100} />}\n            </Button>\n          </>\n        )}\n      </div>\n    ); /* return */\n  } /* render */\n} /* root */\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}