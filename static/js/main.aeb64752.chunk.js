(this["webpackJsonpgoit-react-hw-03-image-finder"]=this["webpackJsonpgoit-react-hw-03-image-finder"]||[]).push([[0],{10:function(e,t,a){e.exports={loader:"Button_loader__2YZtq",loader_wrapper:"Button_loader_wrapper__M7HVe",Button:"Button_Button__36sfs"}},67:function(e,t,a){},68:function(e,t,a){"use strict";a.r(t);var n=a(1),o=a.n(n),r=a(20),s=a.n(r),c=a(4),l=a(5),i=a(7),u=a(6),h=a(0),d=function(e){Object(i.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(e=t.call.apply(t,[this].concat(o))).state={searchInput:""},e.onInputChange=function(t){var a=t.target.value;e.setState({searchInput:a})},e}return Object(l.a)(a,[{key:"componentWillUnmount",value:function(){console.log("CWUnmount-SearchBar")}},{key:"render",value:function(){return Object(h.jsx)("header",{className:"SearchBar",children:Object(h.jsxs)("form",{className:"SearchForm",onSubmit:this.props.onSubmit,children:[Object(h.jsx)("button",{type:"submit",className:"SearchForm-button",children:Object(h.jsx)("span",{className:"SearchForm-button-label",children:"Search"})}),Object(h.jsx)("input",{className:"SearchForm-input",type:"text",autoComplete:"off",name:"searchInput",value:this.state.searchInput,autoFocus:!0,placeholder:"Search images and photos",onChange:this.onInputChange})]})})}}]),a}(n.Component),m=d,p=function(e){var t=e.ModalCloseClickHandler,a=e.ModalCloseKeyHandler,n=e.largePic;return Object(h.jsx)("div",{className:"Overlay",onClick:t,children:Object(h.jsx)("div",{className:"Modal",onKeyDown:a,autoFocus:!0,tabIndex:"0",children:Object(h.jsx)("img",{src:n,alt:"Large pic"})})})},g=function(e){Object(i.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(e=t.call.apply(t,[this].concat(o))).state={status:"noModal"},e.openModal=function(t){t.preventDefault(),e.setState({status:"modal"})},e.closeModal=function(t){console.log("click ",t),"DIV"===t.target.tagName&&e.setState({status:"noModal"})},e.closeModalByEsc=function(t){console.log("Key ",t),"Escape"===t.key&&e.setState({status:"noModal"})},e}return Object(l.a)(a,[{key:"componentWillUnmount",value:function(){console.log("CWUnmount-Gallery-Item")}},{key:"render",value:function(){return Object(h.jsxs)("li",{className:"ImageGalleryItem",children:["modal"===this.state.status&&Object(h.jsx)(p,{ModalCloseClickHandler:this.closeModal,ModalCloseKeyHandler:this.closeModalByEsc,largePic:this.props.largeImageURL}),Object(h.jsx)("a",{href:this.props.largeImageURL,onClick:this.openModal,children:Object(h.jsx)("img",{src:this.props.webformatURL,alt:"",className:"ImageGalleryItem-image"})})]})}}]),a}(n.Component),j=g,b=function(e){var t=e.gallery;return Object(h.jsx)("ul",{className:"ImageGallery",children:t.map((function(e){var t=e.id,a=e.webformatURL,n=e.largeImageURL;return Object(h.jsx)(j,{webformatURL:a,largeImageURL:n},t)}))})},f=a(10),y=a.n(f),v=function(e){var t=e.onClick,a=e.children,n=e.status;return Object(h.jsxs)("div",{className:y.a.loader_wrapper,children:[Object(h.jsx)("div",{className:y.a.loader,children:"pending"===n&&a()}),"resolved"===n&&Object(h.jsx)("button",{className:y.a.Button,type:"button",onClick:t,children:"Load more"})]})},O=a(21),x=a.n(O);var S=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0,a={key:"23763255-79cd913c0d73945049700542d",q:"",image_type:"photo",orientation:"horizontal",safesearch:"true",per_page:12,page:1};a.q=e,a.page=t;var n=x.a.get("https://pixabay.com/api/",{params:a});return n.then((function(e){return e.data}))},I=a(22),w=a.n(I),C=(a(66),a(67),function(e){Object(i.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(e=t.call.apply(t,[this].concat(o))).state={gallery:[],status:"idle",searchQuery:"",page:1,loader:!1},e.onSubmit=function(t){t.preventDefault(),e.setState({gallery:[],page:1});var a=t.target.elements.searchInput.value;console.log("value= ",""===a.trim()),""===a.trim()?e.setState({status:"idle",searchQuery:a}):e.setState({searchQuery:a})},e.pagination=function(){e.setState((function(e){return{page:e.page+1}})),setTimeout((function(){window.scrollBy({top:document.documentElement.scrollHeight,behavior:"smooth"})}),500)},e}return Object(l.a)(a,[{key:"componentDidMount",value:function(){console.log("DID-Mount-APP")}},{key:"componentWillUnmount",value:function(){console.log("CWUnmount-APP")}},{key:"componentDidUpdate",value:function(e,t){var a=this;console.log("DidUpdate - APP",this.state.searchQuery.trim()),""===this.state.searchQuery.trim()||this.state.searchQuery===t.searchQuery&&this.state.page===t.page||(this.setState({status:"pending"}),S(this.state.searchQuery,this.state.page).then((function(e){var t=e.hits;return a.setState((function(e){return{gallery:e.gallery.concat(t.map((function(e){return{id:e.id,webformatURL:e.webformatURL,largeImageURL:e.largeImageURL}}))),status:"resolved"}}))})).catch((function(e){throw alert(e.message),e})))}},{key:"render",value:function(){var e=this.state.status;return"idle"===e?Object(h.jsxs)("div",{className:"App",children:[Object(h.jsx)(m,{onSubmit:this.onSubmit}),"Please type what you want to find..."]}):Object(h.jsxs)("div",{className:"App",children:[Object(h.jsx)(m,{onSubmit:this.onSubmit}),("pending"===e||"resolved"===e)&&Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(b,{gallery:this.state.gallery}),Object(h.jsx)(v,{onClick:this.pagination,status:e,children:function(){return Object(h.jsx)(w.a,{color:"tomato",height:100,width:100})}})]})]})}}]),a}(o.a.Component)),k=C;s.a.render(Object(h.jsx)(o.a.StrictMode,{children:Object(h.jsx)(k,{})}),document.getElementById("root"))}},[[68,1,2]]]);
//# sourceMappingURL=main.aeb64752.chunk.js.map