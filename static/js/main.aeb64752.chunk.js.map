{"version":3,"sources":["components/Button/Button.module.css","components/SearchBar/SearchBar.jsx","components/Modal/Modal.jsx","components/ImageGalleryItem/ImageGalleryItem.jsx","components/ImageGallery/ImageGallery.jsx","components/Button/Button.jsx","shared/services/api.js","App.js","index.js"],"names":["module","exports","SearchBar","state","searchInput","onInputChange","e","value","target","setState","console","log","className","onSubmit","this","props","type","autoComplete","name","autoFocus","placeholder","onChange","Component","Modal","ModalCloseClickHandler","ModalCloseKeyHandler","largePic","onClick","onKeyDown","tabIndex","src","alt","ImageGalleryItem","status","openModal","event","preventDefault","closeModal","tagName","closeModalByEsc","key","largeImageURL","href","webformatURL","ImageGallery","gallery","map","id","Button","children","s","loader_wrapper","loader","getServerResponse","q","page","sendParam","image_type","orientation","safesearch","per_page","response","axios","get","params","then","data","App","searchQuery","elements","trim","pagination","prevState","setTimeout","window","scrollBy","top","document","documentElement","scrollHeight","behavior","prevProps","hits","concat","catch","err","alert","message","color","height","width","React","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.aeb64752.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"loader\":\"Button_loader__2YZtq\",\"loader_wrapper\":\"Button_loader_wrapper__M7HVe\",\"Button\":\"Button_Button__36sfs\"};","import { Component } from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nclass SearchBar extends Component {\r\n  state = {\r\n    searchInput: '',\r\n  };\r\n\r\n  onInputChange = e => {\r\n    const { value } = e.target;\r\n    this.setState({ searchInput: value });\r\n  };\r\n\r\n  componentWillUnmount() {\r\n    console.log('CWUnmount-SearchBar');\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <header className=\"SearchBar\">\r\n        <form className=\"SearchForm\" onSubmit={this.props.onSubmit}>\r\n          <button type=\"submit\" className=\"SearchForm-button\">\r\n            <span className=\"SearchForm-button-label\">Search</span>\r\n          </button>\r\n\r\n          <input\r\n            className=\"SearchForm-input\"\r\n            type=\"text\"\r\n            autoComplete=\"off\"\r\n            name=\"searchInput\"\r\n            value={this.state.searchInput}\r\n            autoFocus\r\n            placeholder=\"Search images and photos\"\r\n            onChange={this.onInputChange}\r\n          />\r\n        </form>\r\n      </header>\r\n    );\r\n  }\r\n}\r\n\r\nSearchBar.propTypes = {\r\n  onSubmit: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default SearchBar;\r\n","import PropTypes from 'prop-types';\r\nconst Modal = ({ ModalCloseClickHandler, ModalCloseKeyHandler, largePic }) => {\r\n  return (\r\n    <div className=\"Overlay\" onClick={ModalCloseClickHandler}>\r\n      <div\r\n        className=\"Modal\"\r\n        onKeyDown={ModalCloseKeyHandler}\r\n        autoFocus={true}\r\n        tabIndex=\"0\"\r\n      >\r\n        <img src={largePic} alt=\"Large pic\" />\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nModal.propTypes = {\r\n  ModalCloseClickHandler: PropTypes.func.isRequired,\r\n  ModalCloseKeyHandler: PropTypes.func.isRequired,\r\n  largePic: PropTypes.string.isRequired,\r\n};\r\n\r\nexport default Modal;\r\n","import PropTypes from 'prop-types';\r\nimport { Component } from 'react';\r\nimport Modal from '../Modal';\r\nclass ImageGalleryItem extends Component {\r\n  state = {\r\n    status: 'noModal',\r\n  };\r\n\r\n  componentWillUnmount() {\r\n    console.log('CWUnmount-Gallery-Item');\r\n  }\r\n\r\n  openModal = event => {\r\n    event.preventDefault();\r\n    this.setState({ status: 'modal' });\r\n  };\r\n\r\n  closeModal = event => {\r\n    console.log('click ', event);\r\n    event.target.tagName === 'DIV' && this.setState({ status: 'noModal' });\r\n  };\r\n\r\n  closeModalByEsc = event => {\r\n    console.log('Key ', event);\r\n    event.key === 'Escape' && this.setState({ status: 'noModal' });\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <li className=\"ImageGalleryItem\">\r\n        {this.state.status === 'modal' && (\r\n          <Modal\r\n            ModalCloseClickHandler={this.closeModal}\r\n            ModalCloseKeyHandler={this.closeModalByEsc}\r\n            largePic={this.props.largeImageURL}\r\n          />\r\n        )}\r\n        <a href={this.props.largeImageURL} onClick={this.openModal}>\r\n          <img\r\n            src={this.props.webformatURL}\r\n            alt=\"\"\r\n            className=\"ImageGalleryItem-image\"\r\n          />\r\n        </a>\r\n      </li>\r\n    );\r\n  }\r\n}\r\n\r\nImageGalleryItem.propTypes = {\r\n  largeImageURL: PropTypes.string.isRequired,\r\n  webformatURL: PropTypes.string.isRequired,\r\n};\r\nexport default ImageGalleryItem;\r\n","import ImageGalleryItem from '../ImageGalleryItem';\r\n\r\nconst ImageGallery = ({ gallery }) => {\r\n  return (\r\n    <ul className=\"ImageGallery\">\r\n      {gallery.map(({ id, webformatURL, largeImageURL }) => {\r\n        return (\r\n          <ImageGalleryItem\r\n            key={id}\r\n            webformatURL={webformatURL}\r\n            largeImageURL={largeImageURL}\r\n          />\r\n        );\r\n      })}\r\n    </ul>\r\n  );\r\n};\r\n\r\nexport default ImageGallery;\r\n","import PropTypes from 'prop-types';\r\nimport s from './Button.module.css';\r\n\r\nconst Button = ({ onClick, children, status }) => {\r\n  return (\r\n    <div className={s.loader_wrapper}>\r\n      <div className={s.loader}>{status === 'pending' && children()}</div>\r\n      {status === 'resolved' && (\r\n        <button className={s.Button} type=\"button\" onClick={onClick}>\r\n          Load more\r\n        </button>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nButton.propTypes = {\r\n  onClick: PropTypes.func.isRequired,\r\n  children: PropTypes.func.isRequired,\r\n  status: PropTypes.string.isRequired,\r\n};\r\n\r\nexport default Button;\r\n","import axios from 'axios';\r\n\r\n//pixabay\r\nfunction getServerResponse(q = '', page) {\r\n  const sendParam = {\r\n    key: '23763255-79cd913c0d73945049700542d',\r\n    q: '',\r\n    image_type: 'photo',\r\n    orientation: 'horizontal',\r\n    safesearch: 'true',\r\n    per_page: 12,\r\n    page: 1,\r\n  };\r\n\r\n  sendParam.q = q;\r\n  sendParam.page = page;\r\n\r\n  const response = axios.get('https://pixabay.com/api/', {\r\n    params: sendParam,\r\n  });\r\n\r\n  return response.then(({ data }) => data);\r\n\r\n  /*    \r\n  //  console.log(response.data.totalHits); //amount of pics (max 500) for free access.\r\n  //  console.log(response.data.hits); //array of pics\r\n  try {\r\n    if (response.data.hits.length === 0 && sendParam.page === 1) {\r\n      throw 'Sorry, there are no images matching your search query. Please try again.';\r\n    }\r\n\r\n    const allPagesAmount = Math.ceil(\r\n      response.data.totalHits / sendParam.per_page,\r\n    );\r\n    if (sendParam.page > allPagesAmount) {\r\n      // SWITCH State of Button to OFF ... >>> document.querySelector('.load-more').disabled = true; \r\n      throw \"We're sorry, but you've reached the end of search results.\";\r\n    }\r\n    return response;\r\n  } catch (exception) {\r\n    Notiflix.Notify.failure(exception);\r\n    console.log(exception);\r\n  } */\r\n}\r\n\r\nexport default getServerResponse;\r\n","import SearchBar from './components/SearchBar';\nimport ImageGallery from './components/ImageGallery';\nimport Button from './components/Button';\nimport getServerResponse from './shared/services/api.js';\nimport Loader from 'react-loader-spinner';\nimport 'react-loader-spinner/dist/loader/css/react-spinner-loader.css';\n\nimport './App.css';\nimport React from 'react';\n\nclass App extends React.Component {\n  state = {\n    gallery: [],\n    status: 'idle',\n    searchQuery: '',\n    page: 1,\n    loader: false,\n  };\n\n  componentDidMount() {\n    console.log('DID-Mount-APP');\n  }\n\n  onSubmit = event => {\n    event.preventDefault();\n    this.setState({ gallery: [], page: 1 });\n    const { value } = event.target.elements['searchInput'];\n    console.log('value= ', value.trim() === '');\n    if (value.trim() === '') {\n      this.setState({\n        status: 'idle',\n        searchQuery: value,\n      });\n    } else {\n      this.setState({ searchQuery: value });\n    }\n  };\n\n  pagination = () => {\n    this.setState(prevState => ({\n      page: prevState['page'] + 1,\n    }));\n    //------------------------------------\n    setTimeout(() => {\n      window.scrollBy({\n        top: document.documentElement.scrollHeight,\n        behavior: 'smooth',\n      });\n    }, 500);\n  };\n\n  componentWillUnmount() {\n    console.log('CWUnmount-APP');\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    console.log('DidUpdate - APP', this.state.searchQuery.trim());\n\n    if (\n      this.state.searchQuery.trim() !== '' &&\n      (this.state.searchQuery !== prevState.searchQuery ||\n        this.state.page !== prevState.page)\n    ) {\n      this.setState({ status: 'pending' });\n      getServerResponse(this.state['searchQuery'], this.state['page'])\n        .then(({ hits }) =>\n          this.setState(({ gallery: prevGallery }) => ({\n            gallery: prevGallery.concat(\n              hits.map(({ id, webformatURL, largeImageURL }) => ({\n                id,\n                webformatURL,\n                largeImageURL,\n              })),\n            ),\n            status: 'resolved',\n          })),\n        )\n        .catch(err => {\n          alert(err.message);\n          throw err;\n        });\n    }\n  }\n\n  render() {\n    const { status } = this.state;\n    if (status === 'idle') {\n      return (\n        <div className=\"App\">\n          <SearchBar onSubmit={this.onSubmit} />\n          Please type what you want to find...\n        </div>\n      );\n    }\n\n    return (\n      <div className=\"App\">\n        <SearchBar onSubmit={this.onSubmit} />\n        {(status === 'pending' || status === 'resolved') && (\n          <>\n            <ImageGallery gallery={this.state['gallery']} />\n            <Button onClick={this.pagination} status={status}>\n              {() => <Loader color=\"tomato\" height={100} width={100} />}\n            </Button>\n          </>\n        )}\n      </div>\n    ); /* return */\n  } /* render */\n} /* root */\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}